---
sidebar_position: 5
---

import { ScopeBadges } from '@site/src/components/ScopeBadges'

# Leaderboards

Talo leaderboards are highly customisable - for example you can configure the sort mode and whether entries must be unique (i.e. one or multiple per user).

To create a leaderboard, head over to [the dashboard](https://dashboard.trytalo.com), visit the leaderboards page and create your first leaderboard. Take note of the `Internal name` as this is how you'll be referring to your leaderboard.

:::tip
Check out this blog post on [how to add leaderboards to your Unity game](https://trytalo.com/blog/leaderboards-unity?utm_source=docs&utm_medium=tip) for a detailed walkthrough
:::

## Creating entries

<ScopeBadges scope='leaderboards' write />

Use `Talo.Leaderboards.AddEntry()` to create an entry:

```csharp title="AddEntry.cs"
string internalName = 'time-survived';
float score = 300f;

public async void AddEntry()
{
	(LeaderboardEntry entry, bool updated) = await Talo.Leaderboards.AddEntry(internalName, score);
	Debug.Log(entry.position);
}
```

This function returns a tuple of the entry and whether it was updated.

Updated entries are only relevant if the leaderboard is set to unique. Leaderboard entries won't be updated if they are not better (depending on the sort mode) than the player's previous entry.

## Entry props

Along with a score, you can also send a dictionary of `props` with an entry. The key/value pairs will be stringified and can be used to, filter leaderboards on specific properties. For example, you could send a `team` prop:

```csharp
private async void OnPostClick()
{
	var username = root.Q<TextField>().text;
	var score = UnityEngine.Random.Range(0, 100);
	var team = UnityEngine.Random.Range(0, 2) == 0 ? "Blue" : "Red";

	await Talo.Players.Identify("username", username);
	(LeaderboardEntry entry, bool updated) = await Talo.Leaderboards.AddEntry(
		leaderboardName,
		score,
		("team", team)
	);

	infoLabel.text = $"You scored {score} for the {team} team.";
	if (updated) infoLabel.text += " Your highscore was updated!";

	entriesList.Rebuild();
}
```

You could then have a function that populates the leaderboard and checks if a team filter is active:

```csharp
private void BuildEntries()
{
	var entries = Talo.Leaderboards.GetCachedEntries(leaderboardName);

	if (filter != "All") // e.g. "Blue" or "Red"
	{
		entries = entries.FindAll((entry) => entry.GetProp("team", "None") == filter);
	}

	foreach (var entry in entries)
	{
		CreateEntry(entry);
	}
}
```

The code above is available in the leaderboards sample included with the Talo Unity package.

## Getting entries

<ScopeBadges scope='leaderboards' read />

Leaderboard entries are paginated: a maximum of 50 entries come back with each request. Use `Talo.Leaderboards.GetEntries()` to retrieve an array of entries:

```csharp title="GetEntries.cs"
string internalName = 'time-survived';
int page = 0;

public async void FetchEntries()
{
	LeaderboardEntry[] entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions() { page = page });
	if (entries.length == 0)
	{
	  // No entries on page
	}
	else
	{
		page++;
	}
}
```

### Getting entries for the current player

Since a player can have many aliases, you can use the `playerId` option to fetch entries across all of a player's aliases:

```csharp
var entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions() {
	playerId = Talo.CurrentPlayer.id
});
```

If you want to scope entries to a specific alias instead, use the `aliasId` option:

```csharp
var entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions() {
	aliasId = Talo.CurrentAlias.id
});
```

You can also filter entries by the service an alias belongs to using the `aliasService` option:

```csharp
var entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions() {
	aliasService = "steam"
});
```

### Getting archived entries

If your leaderboard uses refresh intervals (i.e. daily, weekly, monthly, yearly), you can get archived entries using the `includeArchived` option:

```csharp
var entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions() {
	page = page,
	includeArchived = true
});
```

## Entry cache

After fetching your leaderboard entries you can take advantage of the internal cache to construct your UI, removing the need for any subsequent network requests.

You can use `Talo.Leaderboard.GetCachedEntries()` in the same way as `GetEntries()` above. Every entry fetched previously using `GetEntries()` will exist in the cache.

`GetCachedEntries()` also accepts an optional `GetCachedEntriesOptions` object to filter the cached results client-side:

```csharp
// Filter cached entries by player
var entries = Talo.Leaderboards.GetCachedEntries(internalName, new GetCachedEntriesOptions() {
	playerId = Talo.CurrentPlayer.id
});
```

```csharp
// Filter cached entries by alias
var entries = Talo.Leaderboards.GetCachedEntries(internalName, new GetCachedEntriesOptions() {
	aliasId = Talo.CurrentAlias.id
});
```

```csharp
// Filter cached entries by alias service
var entries = Talo.Leaderboards.GetCachedEntries(internalName, new GetCachedEntriesOptions() {
	aliasService = "steam"
});
```

Similarly, updated results from `AddEntry()` will also be reflected in the cache - the entry returned from the response will be upserted and the positions of the other entries in the cache will be updated.

### Getting entries by their props

The example above assumes we've fetched all of the leaderboard entries so we can filter on them. It's generally more efficient to filter by prop keys and values when fetching leaderboard entries.

The following code will only fetch leaderboard entries that have the "team" key:

```csharp
var entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions() {
	page = page,
	propKey = "team"
});
```

You can also filter by a prop value. This code will now make sure there is a "team" key and its value is "Blue":

```csharp
var entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions() {
	page = page,
	propKey = "team",
	propValue = "Blue"
});
```

### Filtering by dates

You can provide a `startDate` and `endDate` to `GetEntriesOptions` to filter entries by their creation date. Dates can be provided in three formats: UTC Date (YYYY-MM-DD), DateTime (ISO 8601), or millisecond timestamp:

```csharp
// Get entries created between specific dates using UTC Date format
var entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions()
{
	page = page,
	startDate = "2025-09-01",
	endDate = "2025-09-30"
});
// Returns entries created between September 1-30, 2025
```

Using DateTime (ISO 8601) format:

```csharp
var entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions()
{
	page = page,
	startDate = "2025-09-01T00:00:00Z",
	endDate = "2025-09-30T23:59:59Z"
});
```

Using millisecond timestamps:

```csharp
var entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions()
{
	page = page,
	startDate = "1756684800000",  // September 1, 2025 00:00:00 UTC
	endDate = "1759276799000"     // September 30, 2025 23:59:59 UTC
});
```

You can also use just one of the date filters:

```csharp
// Get entries created on or after a specific date
var entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions()
{
	page = page,
	startDate = "2025-09-15"
	// endDate is omitted - returns all entries created from September 15, 2025 00:00:00 UTC onwards
});
```

```csharp
// Get entries created on or before a specific date
var entries = await Talo.Leaderboards.GetEntries(internalName, new GetEntriesOptions()
{
	page = page,
	endDate = "2025-09-30"
	// startDate is omitted - returns all entries created before October 1, 2025 00:00:00 UTC
});
```
